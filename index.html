<!DOCTYPE html>
<html lang="kr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basketball Court</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div class="container">
        <div class="court">
            <img class="ball" src="image/ball.png" alt="ball">
            <div class="Aplayer player">1</div>
            <div class="Aplayer player">2</div>
            <div class="Aplayer player">3</div>
            <div class="Aplayer player">4</div>
            <div class="Aplayer player">5</div>
            <div class="Bplayer player">1</div>
            <div class="Bplayer player">2</div>
            <div class="Bplayer player">3</div>
            <div class="Bplayer player">4</div>
            <div class="Bplayer player">5</div>
        </div>
    </div>

    <script>
        
        function mouseDown(){
            click=true;
            originX = event.clientX;
            originY = event.clientY;                
            originLeft = ball.offsetLeft;
            originTop = ball.offsetTop;
        }
        function mouseUp(){
            click=false;
        }
        function mouseMove(){
            if(click){
                const diffX = event.clientX - originX;
                const diffY = event.clientY - originY;
                const endOfXPoint = courtWidth-ballWidth;
                const endOfYPoint = courtHeight-ballHeight;
                ball.style.left =`${Math.min(Math.max(0,originLeft+diffX),endOfXPoint)}px`;
                ball.style.top = `${Math.min(Math.max(0,originTop+diffY),endOfYPoint)}px`;
                
                console.log("이동");
            }
        }
        const court = document.querySelector('.court');
        const ball = document.querySelector('.ball');

        const {width:courtWidth, height:courtHeight} = court.getBoundingClientRect();
        const {width:ballWidth, height:ballHeight} = ball.getBoundingClientRect();
        let click=false;
        let originX;
        let originY;
        let originLeft;
        let originTop;

        // const Aplayer = document.querySelectorAll('.Aplayer');
        // const Bplayer = document.querySelectorAll('.Bpayler');
        ball.addEventListener('mousedown',mouseDown);
        ball.addEventListener('mouseup',mouseUp);
        court.addEventListener('mousemove',mouseMove);
    </script>
</body>

</html>